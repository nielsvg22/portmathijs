{"version":3,"file":"index.es.js","sources":["../node_modules/@camwiegert/typical/typical.js","../node_modules/style-inject/dist/style-inject.es.js","../src/index.js"],"sourcesContent":["export async function type(node, ...args) {\n    for (const arg of args) {\n        switch (typeof arg) {\n            case 'string':\n                await edit(node, arg);\n                break;\n            case 'number':\n                await wait(arg);\n                break;\n            case 'function':\n                await arg(node, ...args);\n                break;\n            default:\n                await arg;\n        }\n    }\n}\n\nasync function edit(node, text) {\n    const overlap = getOverlap(node.textContent, text);\n    await perform(node, [...deleter(node.textContent, overlap), ...writer(text, overlap)]);\n}\n\nasync function wait(ms) {\n    await new Promise(resolve => setTimeout(resolve, ms));\n}\n\nasync function perform(node, edits, speed = 60) {\n    for (const op of editor(edits)) {\n        op(node);\n        await wait(speed + speed * (Math.random() - 0.5));\n    }\n}\n\nexport function* editor(edits) {\n    for (const edit of edits) {\n        yield (node) => requestAnimationFrame(() => node.textContent = edit);\n    }\n}\n\nexport function* writer([...text], startIndex = 0, endIndex = text.length) {\n    while (startIndex < endIndex) {\n        yield text.slice(0, ++startIndex).join('');\n    }\n}\n\nexport function* deleter([...text], startIndex = 0, endIndex = text.length) {\n    while (endIndex > startIndex) {\n        yield text.slice(0, --endIndex).join('');\n    }\n}\n\nexport function getOverlap(start, [...end]) {\n    return [...start, NaN].findIndex((char, i) => end[i] !== char);\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import { type, type as typeLoop } from '@camwiegert/typical';\r\nimport React, { useRef, useEffect, memo } from 'react';\r\n\r\nimport styles from './styles.css';\r\n\r\nconst TypeAnimation = ({\r\n  sequence,\r\n  repeat,\r\n  className,\r\n  wrapper = 'p',\r\n  cursor = true\r\n}) => {\r\n  const typeRef = useRef(null);\r\n  const baseStyle = styles.type;\r\n\r\n  let finalClassName;\r\n\r\n  if (className && className.length > 0) {\r\n    if (!cursor) {\r\n      finalClassName = className;\r\n    } else {\r\n      finalClassName = `${baseStyle} ${className}`;\r\n    }\r\n  } else {\r\n    if (!cursor) {\r\n      finalClassName = '';\r\n    } else {\r\n      finalClassName = baseStyle;\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (repeat === Infinity) {\r\n      type(typeRef.current, ...sequence, typeLoop);\r\n    } else if (typeof repeat === 'number') {\r\n      type(\r\n        typeRef.current,\r\n        ...Array(repeat)\r\n          .fill(sequence)\r\n          .flat()\r\n      );\r\n    } else {\r\n      type(typeRef.current, ...sequence);\r\n    }\r\n  });\r\n\r\n  const Wrapper = wrapper;\r\n  return <Wrapper className={finalClassName} ref={typeRef} />;\r\n};\r\n\r\nexport default memo(TypeAnimation);\r\n"],"names":["TypeAnimation","sequence","repeat","className","wrapper","cursor","typeRef","useRef","baseStyle","styles","type","finalClassName","length","Infinity","current","typeLoop","Array","fill","flat","Wrapper","memo"],"mappings":"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"}